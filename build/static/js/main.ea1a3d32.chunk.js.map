{"version":3,"sources":["style.js","widgets/Stones.js","widgets/Board.js","widgets/utils.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","height","overflow","header","display","flexDirection","justifyContent","alignItems","textAlign","fontFamily","color","padding","backgroundColor","points","h2","margin","fontSize","board","width","refresh","cursor","Stones","stone","weight","type","weightedSample","arr","wgh","w","reduce","a","e","r","Math","random","find","i","generateStones","N","stn","d3","map","length","s","draw","div","config","handleGameChange","size","p","grid","col","range","colors","c","x","y","free","stones","drawnStones","stoneCodes","currentStoneNrs","currentStoneStartpost","stonesLayed","movingStone","removeCell","cell","transition","duration","attr","remove","snapToGrid","pos","max","floor","min","checkPositionFree","codes","flag","forEach","t","moveStone","drawnPiecePos","drawStonePieces","index","pieces","stoneWidth","stoneHeight","stonePosY","stonePosX","gPieces","svg","append","piece","style","push","call","drag","drawStone","I","shift","on","event","n","this","offset","node","getBoundingClientRect","indexOf","stnCode","check","m","val","setPosition","splice","fullRow","fullColumn","cRow","every","cCol","b","row","checkRowColFull","setTimeout","selectAll","data","enter","d","Board","handleChange","classes","widgetRef","useRef","key","value","useLayoutEffect","current","Box","className","ref","Refresh","viewBox","fill","App","useState","user","setUser","Object","keys","JSON","parse","localStorage","getItem","userOptions","setUserOptions","setPoints","maxPoints","setMaxPoints","useEffect","my1010UserPoints","undefined","setItem","stringify","useCallback","Autocomplete","onChange","newValue","inputValue","selectOnFocus","clearOnBlur","handleHomeEndKeys","options","getOptionLabel","option","renderOption","freeSolo","renderInput","params","TextField","placeholder","h3","Button","onClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ea1a3d32.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    height: '100%',\n    overflow: 'hidden'\n  },\n  header: {\n    display:'flex',\n    flexDirection: 'row', \n    justifyContent: 'space-evenly',\n    alignItems: \"center\",\n    textAlign:'center',\n    fontFamily: 'fantasy',\n    color: '#444',\n    padding: '0.6em',\n    backgroundColor: '#8dd3c7'\n  },\n  points: {\n    display:'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-evenly',\n    alignItems: \"center\",\n    textAlign:'center',\n    fontFamily: 'fantasy',\n    color: '#444',\n    backgroundColor: ''\n  },\n  h2:{\n    margin:'0 1px',\n    fontSize:'1.7em',\n    color:'#444'\n  },\n  board:{\n    display:'flex',\n    width:'100%',\n    height: '100vh',\n    flexDirection: 'column',\n    // justifyContent: 'center', \n    alignItems: \"center\",\n    textAlign:'center',\n    padding: '0.2em',\n    backgroundColor: '#f2f2f2'\n  },\n  refresh: {\n    padding: '0 0 0 13px',\n    cursor: 'pointer'\n  }\n}));\n\nexport default useStyles;","import * as d3 from 'd3';\n\nexport const Stones = [\n    {stone:[[0,0]], weight: 4, type:0},\n\n    {stone:[[0,0],[0,1]], weight: 3, type:1}, \n    {stone:[[0,0],[1,0]], weight: 3, type:1},\n\n    {stone:[[0,0],[0,1],[0,2]], weight: 2, type:2},\n    {stone:[[0,0],[1,0],[2,0]], weight: 2, type:2},\n    {stone:[[0,0],[1,0],[1,1]], weight: 2, type:0},\n    {stone:[[0,0],[1,0],[0,1]], weight: 2, type:3},\n    {stone:[[0,0],[0,1],[1,1]], weight: 2, type:3},\n    {stone:[[1,0],[1,1],[0,1]], weight: 2, type:3},\n\n    {stone:[[0,0],[0,1],[0,2],[0,3]], weight: 1, type:4},\n    {stone:[[0,0],[1,0],[2,0],[3,0]], weight: 1, type:4},\n    {stone:[[0,0],[0,1],[1,0],[1,1]], weight: 1, type:4},\n    {stone:[[0,0],[0,1],[0,2],[1,2]], weight: 1, type:5},\n    {stone:[[1,0],[1,1],[1,2],[0,2]], weight: 1, type:5},\n    {stone:[[0,0],[1,0],[0,1],[2,0]], weight: 1, type:5},\n    {stone:[[0,0],[1,0],[2,0],[2,1]], weight: 1, type:5},\n    \n    {stone:[[1,0],[1,1],[1,2],[0,1]], weight: 1, type:6},\n    {stone:[[0,0],[0,1],[0,2],[1,1]], weight: 1, type:6},\n    {stone:[[1,0],[0,1],[1,1],[2,1]], weight: 1, type:6},\n    {stone:[[0,0],[1,0],[2,0],[1,1]], weight: 1, type:6},\n\n    {stone:[[0,1],[1,0],[1,1],[2,0]], weight: 1, type:7},\n    {stone:[[0,0],[1,0],[1,1],[2,1]], weight: 1, type:7},\n\n    {stone:[[0,0],[1,0],[2,0],[0,1],[1,1],[2,1],[0,2],[1,2],[2,2]], weight: 1, type:0}\n]\n\nconst weightedSample = (arr, wgh) => {\n    let w = wgh.reduce((a, e) => a + e);\n    let r = Math.random() * w;\n    return arr.find((e, i) => (r -= wgh[i]) < 0);\n}\n\nexport const generateStones = (N = 3) => {\n    let stn = d3.range(N).map(() => {\n        return weightedSample(d3.range(Stones.length), Stones.map(a=>a.weight))\n    })\n    return stn.map(s => Stones[s])\n}","import { Box } from '@material-ui/core'\nimport React, {useRef, useLayoutEffect} from 'react'\n\nimport useStyles from '../style';\nimport * as d3 from 'd3';\nimport { generateStones } from './Stones'\n\nconst draw = (div, config, handleGameChange) => {\n    \n    let s = config.size,\n        p=config.padding,\n        width = config.grid * (s + p),\n        height = (config.grid + 5) * (s + p),\n        col = d3.scaleOrdinal().range(config.colors);\n\n    const board = d3.range(config.grid).map((r) => \n        d3.range(config.grid).map((c) => \n            ({\n                x: c * (s + p), \n                y: r * (s + p), \n                free: true \n            })));\n\n    let stones = generateStones(config.stones), \n        drawnStones = [], \n        stoneCodes = {},\n        currentStoneNrs = [],\n        currentStoneStartpost = {x:0, y:0},\n        stonesLayed = 0, \n        movingStone = 0;\n\n    const removeCell = (cell) => {\n        cell.stone.transition().duration(500)\n            .attr(\"x\",s / 2).attr(\"y\", s / 2)\n            .attr(\"height\", 0).attr(\"width\",0).remove();\n        cell['stone'] = null;\n        cell.free = true;\n    }\n\n    const checkRowColFull = () => {\n        let fullRow = [], fullColumn = [];\n        for (let r = 0; r < config.grid; r++){\n            let cRow = board[r].every(c=>!c.free);\n            let cCol = board.map(b => b[r]).every(c=>!c.free);\n            if (cRow) {\n                fullRow.push(r);\n            }\n            if (cCol) {\n                fullColumn.push(r);\n            }\n        }\n        fullRow.forEach(row => {\n            board[row].forEach(cell => {\n                removeCell(cell)\n            })\n        })\n        fullColumn.forEach(col => {\n            board.forEach(row => {\n                let cell = row[col]\n                removeCell(cell);\n            })\n        })\n        return (fullRow.length + fullColumn.length) * config.grid;\n    }\n        \n    const snapToGrid = (x, y) => {\n        let pos = {\n            c: Math.max(0, Math.floor(x / (s + p))),\n            r: Math.max(0, Math.floor(y / (s + p)))\n        }\n        if (pos.r >= config.grid) {\n            pos.y = currentStoneStartpost.y; //height + s * 2\n            pos.x = currentStoneStartpost.x; //(width - s) / 2\n            pos.c = pos.r = null;\n        } else {\n            pos.y = Math.min(config.grid-1, pos.r) * (s + p)\n            pos.x = Math.min(config.grid-1, pos.c) * (s + p)\n        }\n        return pos\n    }\n\n    const checkPositionFree = (pos, codes) => {\n        let flag = true;\n        codes.forEach(t => {\n            if (pos.c===null || pos.r===null){\n                flag = false\n            } else if (t[0]+pos.c >= config.grid || t[0]+pos.c < 0 || t[1]+pos.r >= config.grid || t[1]+pos.r < 0){\n                flag = false\n            } else if (board[t[1]+pos.r][t[0]+pos.c].free===false){\n                flag = false;\n            }\n        })\n        return flag;\n    }\n\n    const setPosition = (pos, val, codes, stn) => {\n        codes.forEach((t,i) => {\n            board[t[1]+pos.r][t[0]+pos.c].free = val;\n            board[t[1]+pos.r][t[0]+pos.c].stone = stn[i];\n        });\n    }\n\n    const moveStone = (x, y, stn) => {\n        stn.forEach(t => t.attr(\"transform\",\"translate(\"+(x)+\",\"+(y)+\")\"));\n    }\n\n    let drawnPiecePos = 0;\n    const drawStonePieces  = (stn, color, index) => {\n        let pieces = []\n        let stoneWidth = d3.max(stn.map(s => s[0]));\n        let stoneHeight = d3.max(stn.map(s => s[1]));\n        let stonePosY = height - 4 * (s+p)\n        let stonePosX = drawnPiecePos * (s + p);\n        if (stonePosX > width - (stoneWidth+1) * (s + p)){\n            // stonePosY = height - 2 * (s+p)\n            stonePosX = width - (stoneWidth+1) * (s + p)\n        }\n        let gPieces = svg.append(\"g\")\n        stn.forEach((cell) => {\n            let piece = gPieces.append(\"rect\")\n                .attr(\"class\",\"stn\")\n                .attr(\"x\", cell[0] * (s + p) )\n                .attr(\"y\", cell[1] * (s + p))\n                .attr(\"width\", s )\n                .attr(\"height\", s )\n                .attr(\"rx\", 1)\n                .attr(\"ry\", 1)\n                .style(\"fill\", col(color))\n                .style(\"fill-opacity\", 0.75)\n                .style(\"stroke\", \"#000\")\n                .style(\"stroke-width\", 1)\n                .attr(\"pointer-events\", \"none\")\n                .attr(\"transform\",\"translate(\"+(stonePosX + 2)+\",\"+(stonePosY)+\")\")\n                // .call(drag);\n            pieces.push(piece)\n        })\n        gPieces.append('rect')\n            .attr(\"class\", \"draghandler\")\n            .attr(\"stn\", index)\n            .attr(\"x\", stonePosX)\n            .attr(\"y\", stonePosY)\n            .attr(\"width\", (stoneWidth + 1)  * (s + p))\n            .attr(\"height\", (stoneHeight + 1) * (s + p))\n            .attr(\"fill-opacity\", 0)\n            .attr(\"stroke\", \"none\")\n            .call(drag);\n        drawnPiecePos += stoneWidth + 2;\n        return pieces;\n    }\n \n    const drawStone = () => {\n        if (currentStoneNrs.length>0){ return }\n\n        stones = generateStones(config.stones);\n        drawnPiecePos = 0;\n        for (let i = 0, I = stones.length; i < I; i++){\n            const stn = stones.shift();\n            stoneCodes[stonesLayed] = stn.stone;\n            let pieces = drawStonePieces(stn.stone, stn.type, stonesLayed);\n            drawnStones.push(pieces);\n            currentStoneNrs.push(stonesLayed);\n            stonesLayed++;\n        }\n    }\n\n    function dragstarted(event, i , n) {\n        movingStone = +d3.select(this).attr(\"stn\");\n        let pos = {x: event.x, y: event.y}\n        let stn = drawnStones[movingStone];\n        let offset = {x: svg.node().getBoundingClientRect().x, \n            y: svg.node().getBoundingClientRect().y};\n        stn.forEach(s => {\n            pos.x = Math.min(pos.x, s.node().getBoundingClientRect().x - offset.x)\n            pos.y = Math.min(pos.y, s.node().getBoundingClientRect().y - offset.y) \n        });\n        currentStoneStartpost = pos;\n        if (currentStoneNrs.indexOf(movingStone) < 0){\n            movingStone = null;\n        }\n    }\n    \n    function dragged(event) {\n        if (movingStone===null){return;}\n        let stn = drawnStones[movingStone]\n        let stnCode = stoneCodes[movingStone]\n        let pos = snapToGrid(event.x, event.y - (s * 2));\n        moveStone(pos.x, pos.y, stn)\n        let check  = checkPositionFree(pos, stnCode);\n        stn.forEach(m => {\n            m.style(\"fill-opacity\", check===false ? 0.25 : 0.75)\n        });\n    }\n    \n    function dragended(event) {\n        if (movingStone===null){return;}\n        let stn = drawnStones[movingStone]\n        let stnCode = stoneCodes[movingStone]\n        let pos = snapToGrid(event.x, event.y - (s * 2));\n        let check  = checkPositionFree(pos, stnCode);\n\n        if (check===true){\n            setPosition(pos, false, stnCode, stn)\n            d3.select(this).remove();\n            stn.forEach(s => s.style(\"stroke-width\", 0))\n            handleGameChange('points', stnCode.length);\n            currentStoneNrs.splice(currentStoneNrs.indexOf(movingStone), 1);\n            let points = checkRowColFull();\n            setTimeout(()=>{handleGameChange('fullrow', points)}, 500);\n            drawStone();\n        } else {\n            pos = snapToGrid(width, height);\n            moveStone(pos.x, pos.y, stn);\n            stn.forEach(m => {\n                m.style(\"fill-opacity\", 0.75)\n            });\n        }\n    }\n    \n    const drag = d3.drag()\n          .on(\"start\", dragstarted)\n          .on(\"drag\", dragged)\n          .on(\"end\", dragended);\n\n    d3.select(div).selectAll('*').remove();\n\n    const svg = d3.select(div).append(\"svg\")\n        .attr(\"width\", width)\n        .attr(\"height\", height)\n        .append(\"g\")\n        .attr(\"transform\",\"translate(\"+p+\",\"+p+\")\");\n\n    let row = svg.selectAll(\".row\")\n        .data(board)\n        .enter().append(\"g\")\n        .attr(\"class\", \"row\");\n\n    row.selectAll(\".square\")\n        .data((d) => d)\n        .enter().append(\"rect\")\n        .attr(\"class\",\"board\")\n        .attr(\"x\", (d) => d.x )\n        .attr(\"y\", (d) => d.y )\n        .attr(\"width\", s )\n        .attr(\"height\", s )\n        .attr(\"rx\", s/config.size)\n        .attr(\"ry\", s/config.size)\n        .style(\"fill\", \"#fff\")\n        .style(\"stroke\", \"#a2a2a2\");\n\n    drawStone();\n    \n}\n\nconst Board = ({config, points, handleChange}) => {\n    const classes = useStyles();\n    const widgetRef = useRef(null);\n\n    const handleGameChange = (key, value) => {\n        handleChange(key, value);\n    }\n\n    useLayoutEffect(() => {\n        if (points > 0){ return; }\n        draw(widgetRef.current, config, handleGameChange);\n    });\n\n    return <Box className={classes.board} ref={widgetRef}></Box>\n\n}\n\nexport default Board;","\nexport const Refresh = () => { \n    return <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z\"/></svg>\n}","import './App.css';\nimport {Box, Button} from '@material-ui/core'\nimport React, { useEffect } from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { TextField } from '@material-ui/core';\n\nimport useStyles from './style';\nimport Board from './widgets/Board'\nimport { useState , useCallback} from 'react';\nimport {Refresh} from './widgets/utils';\n\nfunction App() {\n  const classes = useStyles();\n  const [user, setUser] = useState('')\n  const [userOptions, setUserOptions]  = useState(Object.keys(JSON.parse(localStorage.getItem(\"my1010\") || \"{}\")))\n  const [points, setPoints] = useState(0);\n  const [maxPoints, setMaxPoints] = useState(0)\n  \n  useEffect(()=>{\n    if (!user){ return; }\n    let my1010UserPoints = JSON.parse(localStorage.getItem(\"my1010\") || \"{}\"); \n    if (my1010UserPoints[user]===undefined){\n      my1010UserPoints[user] = 0\n    }\n    my1010UserPoints[user] = Math.max(maxPoints, points);\n    setMaxPoints(my1010UserPoints[user]);\n    localStorage.setItem(\"my1010\",JSON.stringify(my1010UserPoints));\n  }, [points]);\n\n  useEffect(()=>{\n    if (!user){ return; }\n    let my1010UserPoints = JSON.parse(localStorage.getItem(\"my1010\") || \"{}\"); \n    if (my1010UserPoints[user]===undefined){\n      my1010UserPoints[user] = 0\n    }\n    setPoints(0)\n    setMaxPoints(my1010UserPoints[user])\n    setUserOptions(Object.keys(my1010UserPoints))\n  }, [user]);\n\n  const handleChange = useCallback((key, value) => {\n    if (key==='points' || key===\"fullrow\"){\n      setPoints(p => +p+value);\n    }\n  },[]);\n\n  const onHandleRefresh = () => {\n    setPoints(0)\n  }\n\n  const config = {\n    size: 37,\n    grid: 10,\n    padding: 2,\n    stones: 3,\n    colors: [\"#4baf90\",\n      \"#a664c4\",\n      \"#73b34a\",\n      \"#c95682\",\n      \"#787c37\",\n      \"#6587cd\",\n      \"#ce9b44\",\n      \"#c95b41\"]\n  }\n\n  return (\n    <Box className={classes.root}>\n      <header className={classes.header}>\n        <h2 className={classes.h2}>\n          My 1010\n        </h2>\n        <Autocomplete\n          value={user}\n          onChange={(event, newValue) => {\n            if (newValue && newValue.inputValue) {\n              // Create a new value from the user input\n              setUser(newValue.inputValue);\n            } else {\n              setUser(newValue);\n            }\n          }}\n          selectOnFocus\n          clearOnBlur\n          handleHomeEndKeys\n          options={userOptions}\n          getOptionLabel={(option) => {\n            if (option.inputValue) {\n              return option.inputValue;\n            }\n            return option;\n          }}\n          renderOption={(option) => option}\n          style={{ width: 120 }}\n          freeSolo\n          renderInput={(params) => (\n            <TextField {...params} placeholder='user'/>\n          )}\n        />\n      </header>\n      <Box className={classes.points}>\n        <h3 className={classes.h3}>{points}</h3>\n        <Box className={classes.refresh}>\n          <Button onClick={onHandleRefresh}><Refresh/></Button>\n        </Box>\n        <h3 className={classes.h3}>({maxPoints})</h3>\n      </Box>\n      <Board config={config} points={points} handleChange={handleChange}/>\n    </Box>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}