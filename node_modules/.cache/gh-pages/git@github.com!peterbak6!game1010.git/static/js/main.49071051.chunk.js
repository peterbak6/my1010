(this.webpackJsonpgame1010=this.webpackJsonpgame1010||[]).push([[0],{165:function(t,e,n){},166:function(t,e,n){},175:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(10),c=n.n(o),i=(n(165),n(50)),s=n(25),f=(n(166),n(213)),u=n(211),l=n(214),h=n(212),d=n(206),g=Object(d.a)((function(t){return{root:{flexGrow:1,height:"100%"},header:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",textAlign:"center",fontFamily:"fantasy",color:"#444",padding:"0.6em",backgroundColor:"#8dd3c7"},h2:{margin:"0 17px",fontSize:"1.7em",color:"#444"},board:{display:"flex",width:"100%",height:"100vh",flexDirection:"column",alignItems:"center",textAlign:"center",padding:"0.2em",backgroundColor:"#f2f2f2"},refresh:{padding:"0 23px",cursor:"pointer"}}})),p=n(13),y=[{stone:[[0,0]],weight:4,type:0},{stone:[[0,0],[0,1]],weight:3,type:1},{stone:[[0,0],[1,0]],weight:3,type:1},{stone:[[0,0],[0,1],[0,2]],weight:2,type:2},{stone:[[0,0],[1,0],[2,0]],weight:2,type:2},{stone:[[0,0],[1,0],[1,1]],weight:2,type:0},{stone:[[0,0],[1,0],[0,1]],weight:2,type:3},{stone:[[0,0],[0,1],[1,1]],weight:2,type:3},{stone:[[1,0],[1,1],[0,1]],weight:2,type:3},{stone:[[0,0],[0,1],[0,2],[0,3]],weight:1,type:4},{stone:[[0,0],[1,0],[2,0],[3,0]],weight:1,type:4},{stone:[[0,0],[0,1],[1,0],[1,1]],weight:1,type:4},{stone:[[0,0],[0,1],[0,2],[1,2]],weight:1,type:5},{stone:[[1,0],[1,1],[1,2],[0,2]],weight:1,type:5},{stone:[[0,0],[1,0],[0,1],[2,0]],weight:1,type:5},{stone:[[0,0],[1,0],[2,0],[2,1]],weight:1,type:5},{stone:[[1,0],[1,1],[1,2],[0,1]],weight:1,type:6},{stone:[[0,0],[0,1],[0,2],[1,1]],weight:1,type:6},{stone:[[1,0],[0,1],[1,1],[2,1]],weight:1,type:6},{stone:[[0,0],[1,0],[2,0],[1,1]],weight:1,type:6},{stone:[[0,1],[1,0],[1,1],[2,0]],weight:1,type:7},{stone:[[0,0],[1,0],[1,1],[2,1]],weight:1,type:7},{stone:[[0,0],[1,0],[2,0],[0,1],[1,1],[2,1],[0,2],[1,2],[2,2]],weight:1,type:0}],b=function(t,e){var n=e.reduce((function(t,e){return t+e})),r=Math.random()*n;return t.find((function(t,n){return(r-=e[n])<0}))},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e=p.c(t).map((function(){return b(p.c(y.length),y.map((function(t){return t.weight})))}));return e.map((function(t){return y[t]}))},j=n(11),m=function(t,e,n){var r=e.size,a=e.padding,o=e.grid*(r+a),c=o,i=p.d().range(e.colors),s=p.c(e.grid).map((function(t){return p.c(e.grid).map((function(e){return{x:e*(r+a),y:t*(r+a),free:!0}}))})),f=x(e.stones),u=[],l={},h=[],d={x:0,y:0},g=0,y=0,b=function(t){t.stone.transition().duration(500).attr("x",r/2).attr("y",r/2).attr("height",0).attr("width",0).remove(),t.stone=null,t.free=!0},j=function(t,n){var o={c:Math.max(0,Math.floor(t/(r+a))),r:Math.max(0,Math.floor(n/(r+a)))};return o.r>=e.grid?(o.y=d.y,o.x=d.x,o.c=o.r=null):(o.y=Math.min(e.grid-1,o.r)*(r+a),o.x=Math.min(e.grid-1,o.c)*(r+a)),o},m=function(t,n){var r=!0;return n.forEach((function(n){(null===t.c||null===t.r||n[0]+t.c>=e.grid||n[0]+t.c<0||n[1]+t.r>=e.grid||n[1]+t.r<0||!1===s[n[1]+t.r][n[0]+t.c].free)&&(r=!1)})),r},v=function(t,e,n){n.forEach((function(n){return n.attr("transform","translate("+t+","+e+")")}))},O=0,w=function(t,e,n){var s=[],f=p.b(t.map((function(t){return t[0]}))),u=c+2*r,l=O*(r+a);return l>o-f*(r+a)&&(u=c+4*r,l=o-f*(r+a)),t.forEach((function(t){var o=C.append("rect").attr("class","stn").attr("stn",n).attr("row",t[1]).attr("col",t[0]).attr("x",t[0]*(r+a)).attr("y",t[1]*(r+a)).attr("width",r).attr("height",r).attr("rx",1).attr("ry",1).style("fill",i(e)).style("fill-opacity",.75).style("stroke","#000").attr("transform","translate("+(l+2)+","+u+")").call(S);s.push(o)})),O+=f+2,s},E=function(){if(!(h.length>0)){f=x(e.stones),O=0;for(var t=0,n=f.length;t<n;t++){var r=f.shift();l[g]=r.stone;var a=w(r.stone,r.type,g);u.push(a),h.push(g),g++}}};var S=p.a().on("start",(function(t){y=+p.e(this).attr("stn");var e={x:t.x,y:t.y},n=u[y],r=C.node().getBoundingClientRect().x,a=C.node().getBoundingClientRect().y;n.forEach((function(t){e.x=Math.min(e.x,t.node().getBoundingClientRect().x-r),e.y=Math.min(e.y,t.node().getBoundingClientRect().y-a)})),d=e,h.indexOf(y)<0&&(y=null)})).on("drag",(function(t){if(null!==y){var e=u[y],n=l[y],r=j(t.x,t.y);v(r.x,r.y,e);var a=m(r,n);e.forEach((function(t){t.style("fill-opacity",!1===a?.25:.75)}))}})).on("end",(function(t){if(null!==y){var r=u[y],a=l[y],i=j(t.x,t.y);if(!0===m(i,a)){!function(t,e,n,r){n.forEach((function(n,a){s[n[1]+t.r][n[0]+t.c].free=e,s[n[1]+t.r][n[0]+t.c].stone=r[a]}))}(i,!1,a,r),h.splice(h.indexOf(y),1);var f=function(){for(var t=[],n=[],r=function(e){var r=s[e].every((function(t){return!t.free})),a=s.map((function(t){return t[e]})).every((function(t){return!t.free}));r&&t.push(e),a&&n.push(e)},a=0;a<e.grid;a++)r(a);return t.forEach((function(t){s[t].forEach((function(t){b(t)}))})),n.forEach((function(t){s.forEach((function(e){var n=e[t];b(n)}))})),(t.length+n.length)*e.grid}();n("points",f),E()}else i=j(o,c),v(i.x,i.y,r),r.forEach((function(t){t.style("fill-opacity",.75)}))}}));p.e(t).selectAll("*").remove();var C=p.e(t).append("svg").attr("width",o+2*a).attr("height",2*(c+a)).append("g").attr("transform","translate("+a+","+a+")");C.selectAll(".row").data(s).enter().append("g").attr("class","row").selectAll(".square").data((function(t){return t})).enter().append("rect").attr("class","board").attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("width",r).attr("height",r).attr("rx",r/e.size).attr("ry",r/e.size).style("fill","#fff").style("stroke","#a2a2a2"),E()},v=function(t){var e=t.config,n=t.points,a=t.handleChange,o=g(),c=Object(r.useRef)(null),i=function(t,e){a(t,e)};return Object(r.useLayoutEffect)((function(){n>0||m(c.current,e,i)})),Object(j.jsx)(f.a,{className:o.board,ref:c})},O=function(){return Object(j.jsxs)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(j.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(j.jsx)("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"})]})};var w=function(){var t=g(),e=Object(r.useState)(""),n=Object(s.a)(e,2),a=n[0],o=n[1],c=Object(r.useState)(Object.keys(JSON.parse(localStorage.getItem("my1010")||"{}"))),d=Object(s.a)(c,2),p=d[0],y=d[1],b=Object(r.useState)(0),x=Object(s.a)(b,2),m=x[0],w=x[1],E=Object(r.useState)(0),S=Object(s.a)(E,2),C=S[0],M=S[1];Object(r.useEffect)((function(){if(a){var t=JSON.parse(localStorage.getItem("my1010")||"{}");void 0===t[a]&&(t[a]=0),t[a]=Math.max(C,m),M(t[a]),localStorage.setItem("my1010",JSON.stringify(t))}}),[m]),Object(r.useEffect)((function(){if(a){var t=JSON.parse(localStorage.getItem("my1010")||"{}");void 0===t[a]&&(t[a]=0),w(0),M(t[a]),y(Object.keys(t))}}),[a]);var k=Object(r.useCallback)((function(t,e){0!==e&&"points"===t&&w((function(t){return+t+e}))}),[]);return Object(j.jsxs)(f.a,{className:t.root,children:[Object(j.jsxs)("header",{className:t.header,children:[Object(j.jsx)("h2",{className:t.h2,children:"My 1010"}),Object(j.jsx)(l.a,{value:a,onChange:function(t,e){e&&e.inputValue?o(e.inputValue):o(e)},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,options:p,getOptionLabel:function(t){return t.inputValue?t.inputValue:t},renderOption:function(t){return t},style:{width:120},freeSolo:!0,renderInput:function(t){return Object(j.jsx)(h.a,Object(i.a)(Object(i.a)({},t),{},{placeholder:"user"}))}}),Object(j.jsxs)("h3",{className:t.h3,children:[": ",m," (",C,")"]}),Object(j.jsx)(f.a,{className:t.refresh,children:Object(j.jsx)(u.a,{onClick:function(){w(0)},children:Object(j.jsx)(O,{})})})]}),Object(j.jsx)(v,{config:{size:40,grid:10,padding:2,stones:3,colors:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],colors1:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},points:m,handleChange:k})]})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,217)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),o(t),c(t)}))};c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root")),E()}},[[175,1,2]]]);
//# sourceMappingURL=main.49071051.chunk.js.map