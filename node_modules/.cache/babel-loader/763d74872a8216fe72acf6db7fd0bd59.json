{"ast":null,"code":"var _jsxFileName = \"/Users/peterbak/Documents/game1010/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport { Box, Button } from '@material-ui/core';\nimport React, { useEffect } from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { TextField } from '@material-ui/core';\nimport useStyles from './style';\nimport Board from './widgets/Board';\nimport { useState, useCallback } from 'react';\nimport { Refresh } from './widgets/utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const classes = useStyles();\n  const [user, setUser] = useState('');\n  const [userOptions, setUserOptions] = useState(Object.keys(JSON.parse(localStorage.getItem(\"my1010\") || \"{}\")));\n  const [points, setPoints] = useState(0);\n  const [maxPoints, setMaxPoints] = useState(0);\n  useEffect(() => {\n    if (!user) {\n      return;\n    }\n\n    let my1010UserPoints = JSON.parse(localStorage.getItem(\"my1010\") || \"{}\");\n\n    if (my1010UserPoints[user] === undefined) {\n      my1010UserPoints[user] = 0;\n    }\n\n    my1010UserPoints[user] = Math.max(maxPoints, points);\n    setMaxPoints(my1010UserPoints[user]);\n    localStorage.setItem(\"my1010\", JSON.stringify(my1010UserPoints));\n  }, [points]);\n  useEffect(() => {\n    if (!user) {\n      return;\n    }\n\n    let my1010UserPoints = JSON.parse(localStorage.getItem(\"my1010\") || \"{}\");\n\n    if (my1010UserPoints[user] === undefined) {\n      my1010UserPoints[user] = 0;\n    }\n\n    setPoints(0);\n    setMaxPoints(my1010UserPoints[user]);\n    setUserOptions(Object.keys(my1010UserPoints));\n  }, [user]);\n  const handleChange = useCallback((key, value) => {\n    if (key === 'points' || key === \"fullrow\") {\n      setPoints(p => +p + value);\n    }\n  }, []);\n\n  const onHandleRefresh = () => {\n    setPoints(0);\n  };\n\n  const config = {\n    size: 37,\n    grid: 10,\n    padding: 2,\n    stones: 3,\n    colors: [\"#4baf90\", \"#a664c4\", \"#73b34a\", \"#c95682\", \"#787c37\", \"#6587cd\", \"#ce9b44\", \"#c95b41\"]\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: classes.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: classes.h2,\n        children: \"My 1010\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Autocomplete, {\n        value: user,\n        onChange: (event, newValue) => {\n          if (newValue && newValue.inputValue) {\n            // Create a new value from the user input\n            setUser(newValue.inputValue);\n          } else {\n            setUser(newValue);\n          }\n        },\n        selectOnFocus: true,\n        clearOnBlur: true,\n        handleHomeEndKeys: true,\n        options: userOptions,\n        getOptionLabel: option => {\n          if (option.inputValue) {\n            return option.inputValue;\n          }\n\n          return option;\n        },\n        renderOption: option => option,\n        style: {\n          width: 120\n        },\n        freeSolo: true,\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n          placeholder: \"user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.points,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: classes.h3,\n        children: points\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        className: classes.refresh,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: onHandleRefresh,\n          children: /*#__PURE__*/_jsxDEV(Refresh, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: classes.h3,\n        children: [\"(\", maxPoints, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Board, {\n      config: config,\n      points: points,\n      handleChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"eLLPT1E2z9OHNdjpy91Nl+4TQ5c=\", false, function () {\n  return [useStyles];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/peterbak/Documents/game1010/src/App.js"],"names":["Box","Button","React","useEffect","Autocomplete","TextField","useStyles","Board","useState","useCallback","Refresh","App","classes","user","setUser","userOptions","setUserOptions","Object","keys","JSON","parse","localStorage","getItem","points","setPoints","maxPoints","setMaxPoints","my1010UserPoints","undefined","Math","max","setItem","stringify","handleChange","key","value","p","onHandleRefresh","config","size","grid","padding","stones","colors","root","header","h2","event","newValue","inputValue","option","width","params","h3","refresh"],"mappings":"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","sourcesContent":["import './App.css';\nimport {Box, Button} from '@material-ui/core'\nimport React, { useEffect } from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { TextField } from '@material-ui/core';\n\nimport useStyles from './style';\nimport Board from './widgets/Board'\nimport { useState , useCallback} from 'react';\nimport {Refresh} from './widgets/utils';\n\nfunction App() {\n  const classes = useStyles();\n  const [user, setUser] = useState('')\n  const [userOptions, setUserOptions]  = useState(Object.keys(JSON.parse(localStorage.getItem(\"my1010\") || \"{}\")))\n  const [points, setPoints] = useState(0);\n  const [maxPoints, setMaxPoints] = useState(0)\n  \n  useEffect(()=>{\n    if (!user){ return; }\n    let my1010UserPoints = JSON.parse(localStorage.getItem(\"my1010\") || \"{}\"); \n    if (my1010UserPoints[user]===undefined){\n      my1010UserPoints[user] = 0\n    }\n    my1010UserPoints[user] = Math.max(maxPoints, points);\n    setMaxPoints(my1010UserPoints[user]);\n    localStorage.setItem(\"my1010\",JSON.stringify(my1010UserPoints));\n  }, [points]);\n\n  useEffect(()=>{\n    if (!user){ return; }\n    let my1010UserPoints = JSON.parse(localStorage.getItem(\"my1010\") || \"{}\"); \n    if (my1010UserPoints[user]===undefined){\n      my1010UserPoints[user] = 0\n    }\n    setPoints(0)\n    setMaxPoints(my1010UserPoints[user])\n    setUserOptions(Object.keys(my1010UserPoints))\n  }, [user]);\n\n  const handleChange = useCallback((key, value) => {\n    if (key==='points' || key===\"fullrow\"){\n      setPoints(p => +p+value);\n    }\n  },[]);\n\n  const onHandleRefresh = () => {\n    setPoints(0)\n  }\n\n  const config = {\n    size: 37,\n    grid: 10,\n    padding: 2,\n    stones: 3,\n    colors: [\"#4baf90\",\n      \"#a664c4\",\n      \"#73b34a\",\n      \"#c95682\",\n      \"#787c37\",\n      \"#6587cd\",\n      \"#ce9b44\",\n      \"#c95b41\"]\n  }\n\n  return (\n    <Box className={classes.root}>\n      <header className={classes.header}>\n        <h2 className={classes.h2}>\n          My 1010\n        </h2>\n        <Autocomplete\n          value={user}\n          onChange={(event, newValue) => {\n            if (newValue && newValue.inputValue) {\n              // Create a new value from the user input\n              setUser(newValue.inputValue);\n            } else {\n              setUser(newValue);\n            }\n          }}\n          selectOnFocus\n          clearOnBlur\n          handleHomeEndKeys\n          options={userOptions}\n          getOptionLabel={(option) => {\n            if (option.inputValue) {\n              return option.inputValue;\n            }\n            return option;\n          }}\n          renderOption={(option) => option}\n          style={{ width: 120 }}\n          freeSolo\n          renderInput={(params) => (\n            <TextField {...params} placeholder='user'/>\n          )}\n        />\n      </header>\n      <Box className={classes.points}>\n        <h3 className={classes.h3}>{points}</h3>\n        <Box className={classes.refresh}>\n          <Button onClick={onHandleRefresh}><Refresh/></Button>\n        </Box>\n        <h3 className={classes.h3}>({maxPoints})</h3>\n      </Box>\n      <Board config={config} points={points} handleChange={handleChange}/>\n    </Box>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}