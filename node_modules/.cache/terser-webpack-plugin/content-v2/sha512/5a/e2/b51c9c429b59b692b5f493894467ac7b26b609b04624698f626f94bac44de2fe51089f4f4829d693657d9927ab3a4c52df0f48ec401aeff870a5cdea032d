{"code":"(this.webpackJsonpgame1010=this.webpackJsonpgame1010||[]).push([[0],{165:function(t,e,n){},166:function(t,e,n){},175:function(t,e,n){\"use strict\";n.r(e);var r=n(0),a=n.n(r),o=n(11),i=n.n(o),c=(n(165),n(50)),s=n(25),l=(n(166),n(213)),u=n(211),f=n(214),h=n(212),d=n(206),g=Object(d.a)((function(t){return{root:{flexGrow:1,height:\"100%\",overflow:\"hidden\"},header:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-evenly\",alignItems:\"center\",textAlign:\"center\",fontFamily:\"fantasy\",color:\"#444\",padding:\"0.6em\",backgroundColor:\"#8dd3c7\"},points:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-evenly\",alignItems:\"center\",textAlign:\"center\",fontFamily:\"fantasy\",color:\"#444\",backgroundColor:\"\"},h2:{margin:\"0 1px\",fontSize:\"1.7em\",color:\"#444\"},board:{display:\"flex\",width:\"100%\",height:\"100vh\",flexDirection:\"column\",alignItems:\"center\",textAlign:\"center\",padding:\"0.2em\",backgroundColor:\"#f2f2f2\"},refresh:{padding:\"0 0 0 13px\",cursor:\"pointer\"}}})),p=n(13),y=[{stone:[[0,0]],weight:4,type:0},{stone:[[0,0],[0,1]],weight:3,type:1},{stone:[[0,0],[1,0]],weight:3,type:1},{stone:[[0,0],[0,1],[0,2]],weight:2,type:2},{stone:[[0,0],[1,0],[2,0]],weight:2,type:2},{stone:[[0,0],[1,0],[1,1]],weight:2,type:0},{stone:[[0,0],[1,0],[0,1]],weight:2,type:3},{stone:[[0,0],[0,1],[1,1]],weight:2,type:3},{stone:[[1,0],[1,1],[0,1]],weight:2,type:3},{stone:[[0,0],[0,1],[0,2],[0,3]],weight:1,type:4},{stone:[[0,0],[1,0],[2,0],[3,0]],weight:1,type:4},{stone:[[0,0],[0,1],[1,0],[1,1]],weight:1,type:4},{stone:[[0,0],[0,1],[0,2],[1,2]],weight:1,type:5},{stone:[[1,0],[1,1],[1,2],[0,2]],weight:1,type:5},{stone:[[0,0],[1,0],[0,1],[2,0]],weight:1,type:5},{stone:[[0,0],[1,0],[2,0],[2,1]],weight:1,type:5},{stone:[[1,0],[1,1],[1,2],[0,1]],weight:1,type:6},{stone:[[0,0],[0,1],[0,2],[1,1]],weight:1,type:6},{stone:[[1,0],[0,1],[1,1],[2,1]],weight:1,type:6},{stone:[[0,0],[1,0],[2,0],[1,1]],weight:1,type:6},{stone:[[0,1],[1,0],[1,1],[2,0]],weight:1,type:7},{stone:[[0,0],[1,0],[1,1],[2,1]],weight:1,type:7},{stone:[[0,0],[1,0],[2,0],[0,1],[1,1],[2,1],[0,2],[1,2],[2,2]],weight:1,type:0}],x=function(t,e){var n=e.reduce((function(t,e){return t+e})),r=Math.random()*n;return t.find((function(t,n){return(r-=e[n])<0}))},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e=p.c(t).map((function(){return x(p.c(y.length),y.map((function(t){return t.weight})))}));return e.map((function(t){return y[t]}))},m=n(10),b=function(t,e,n){var r=e.size,a=e.padding,o=e.grid*(r+a),i=(e.grid+5)*(r+a),c=p.d().range(e.colors),s=p.c(e.grid).map((function(t){return p.c(e.grid).map((function(e){return{x:e*(r+a),y:t*(r+a),free:!0}}))})),l=j(e.stones),u=[],f={},h=[],d={x:0,y:0},g=0,y=0,x=function(t){t.stone.transition().duration(500).attr(\"x\",r/2).attr(\"y\",r/2).attr(\"height\",0).attr(\"width\",0).remove(),t.stone=null,t.free=!0},m=function(t,n){var o={c:Math.max(0,Math.floor(t/(r+a))),r:Math.max(0,Math.floor(n/(r+a)))};return o.r>=e.grid?(o.y=d.y,o.x=d.x,o.c=o.r=null):(o.y=Math.min(e.grid-1,o.r)*(r+a),o.x=Math.min(e.grid-1,o.c)*(r+a)),o},b=function(t,n){var r=!0;return n.forEach((function(n){(null===t.c||null===t.r||n[0]+t.c>=e.grid||n[0]+t.c<0||n[1]+t.r>=e.grid||n[1]+t.r<0||!1===s[n[1]+t.r][n[0]+t.c].free)&&(r=!1)})),r},v=function(t,e,n){n.forEach((function(n){return n.attr(\"transform\",\"translate(\"+t+\",\"+e+\")\")}))},O=0,w=function(t,e,n){var s=[],l=p.b(t.map((function(t){return t[0]}))),u=p.b(t.map((function(t){return t[1]}))),f=i-4*(r+a),h=O*(r+a);h>o-(l+1)*(r+a)&&(h=o-(l+1)*(r+a));var d=S.append(\"g\");return t.forEach((function(t){var n=d.append(\"rect\").attr(\"class\",\"stn\").attr(\"x\",t[0]*(r+a)).attr(\"y\",t[1]*(r+a)).attr(\"width\",r).attr(\"height\",r).attr(\"rx\",1).attr(\"ry\",1).style(\"fill\",c(e)).style(\"fill-opacity\",.75).style(\"stroke\",\"#000\").style(\"stroke-width\",1).attr(\"pointer-events\",\"none\").attr(\"transform\",\"translate(\"+(h+2)+\",\"+f+\")\");s.push(n)})),d.append(\"rect\").attr(\"class\",\"draghandler\").attr(\"stn\",n).attr(\"x\",h).attr(\"y\",f).attr(\"width\",(l+1)*(r+a)).attr(\"height\",(u+1)*(r+a)).attr(\"fill-opacity\",0).attr(\"stroke\",\"none\").call(E),O+=l+2,s},C=function(){if(!(h.length>0)){l=j(e.stones),O=0;for(var t=0,n=l.length;t<n;t++){var r=l.shift();f[g]=r.stone;var a=w(r.stone,r.type,g);u.push(a),h.push(g),g++}}};var E=p.a().on(\"start\",(function(t,e,n){y=+p.e(this).attr(\"stn\");var r={x:t.x,y:t.y},a=u[y],o=S.node().getBoundingClientRect().x,i=S.node().getBoundingClientRect().y;a.forEach((function(t){r.x=Math.min(r.x,t.node().getBoundingClientRect().x-o),r.y=Math.min(r.y,t.node().getBoundingClientRect().y-i)})),d=r,h.indexOf(y)<0&&(y=null)})).on(\"drag\",(function(t){if(null!==y){var e=u[y],n=f[y],a=m(t.x,t.y-2*r);v(a.x,a.y,e);var o=b(a,n);e.forEach((function(t){t.style(\"fill-opacity\",!1===o?.25:.75)}))}})).on(\"end\",(function(t){if(null!==y){var a=u[y],c=f[y],l=m(t.x,t.y-2*r);if(!0===b(l,c)){!function(t,e,n,r){n.forEach((function(n,a){s[n[1]+t.r][n[0]+t.c].free=e,s[n[1]+t.r][n[0]+t.c].stone=r[a]}))}(l,!1,c,a),p.e(this).remove(),a.forEach((function(t){return t.style(\"stroke-width\",0)})),n(\"points\",c.length),h.splice(h.indexOf(y),1);var d=function(){for(var t=[],n=[],r=function(e){var r=s[e].every((function(t){return!t.free})),a=s.map((function(t){return t[e]})).every((function(t){return!t.free}));r&&t.push(e),a&&n.push(e)},a=0;a<e.grid;a++)r(a);return t.forEach((function(t){s[t].forEach((function(t){x(t)}))})),n.forEach((function(t){s.forEach((function(e){var n=e[t];x(n)}))})),(t.length+n.length)*e.grid}();setTimeout((function(){n(\"fullrow\",d)}),500),C()}else l=m(o,i),v(l.x,l.y,a),a.forEach((function(t){t.style(\"fill-opacity\",.75)}))}}));p.e(t).selectAll(\"*\").remove();var S=p.e(t).append(\"svg\").attr(\"width\",o).attr(\"height\",i).append(\"g\").attr(\"transform\",\"translate(\"+a+\",\"+a+\")\");S.selectAll(\".row\").data(s).enter().append(\"g\").attr(\"class\",\"row\").selectAll(\".square\").data((function(t){return t})).enter().append(\"rect\").attr(\"class\",\"board\").attr(\"x\",(function(t){return t.x})).attr(\"y\",(function(t){return t.y})).attr(\"width\",r).attr(\"height\",r).attr(\"rx\",r/e.size).attr(\"ry\",r/e.size).style(\"fill\",\"#fff\").style(\"stroke\",\"#a2a2a2\"),C()},v=function(t){var e=t.config,n=t.points,a=t.handleChange,o=g(),i=Object(r.useRef)(null),c=function(t,e){a(t,e)};return Object(r.useLayoutEffect)((function(){n>0||b(i.current,e,c)})),Object(m.jsx)(l.a,{className:o.board,ref:i})},O=function(){return Object(m.jsxs)(\"svg\",{height:\"24\",viewBox:\"0 0 24 24\",width:\"24\",children:[Object(m.jsx)(\"path\",{d:\"M0 0h24v24H0z\",fill:\"none\"}),Object(m.jsx)(\"path\",{d:\"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z\"})]})};var w=function(){var t=g(),e=Object(r.useState)(\"\"),n=Object(s.a)(e,2),a=n[0],o=n[1],i=Object(r.useState)(Object.keys(JSON.parse(localStorage.getItem(\"my1010\")||\"{}\"))),d=Object(s.a)(i,2),p=d[0],y=d[1],x=Object(r.useState)(0),j=Object(s.a)(x,2),b=j[0],w=j[1],C=Object(r.useState)(0),E=Object(s.a)(C,2),S=E[0],k=E[1];Object(r.useEffect)((function(){if(a){var t=JSON.parse(localStorage.getItem(\"my1010\")||\"{}\");void 0===t[a]&&(t[a]=0),t[a]=Math.max(S,b),k(t[a]),localStorage.setItem(\"my1010\",JSON.stringify(t))}}),[b]),Object(r.useEffect)((function(){if(a){var t=JSON.parse(localStorage.getItem(\"my1010\")||\"{}\");void 0===t[a]&&(t[a]=0),w(0),k(t[a]),y(Object.keys(t))}}),[a]);var M=Object(r.useCallback)((function(t,e){\"points\"!==t&&\"fullrow\"!==t||w((function(t){return+t+e}))}),[]);return Object(m.jsxs)(l.a,{className:t.root,children:[Object(m.jsxs)(\"header\",{className:t.header,children:[Object(m.jsx)(\"h2\",{className:t.h2,children:\"My 1010\"}),Object(m.jsx)(f.a,{value:a,onChange:function(t,e){e&&e.inputValue?o(e.inputValue):o(e)},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,options:p,getOptionLabel:function(t){return t.inputValue?t.inputValue:t},renderOption:function(t){return t},style:{width:120},freeSolo:!0,renderInput:function(t){return Object(m.jsx)(h.a,Object(c.a)(Object(c.a)({},t),{},{placeholder:\"user\"}))}})]}),Object(m.jsxs)(l.a,{className:t.points,children:[Object(m.jsx)(\"h3\",{className:t.h3,children:b}),Object(m.jsx)(l.a,{className:t.refresh,children:Object(m.jsx)(u.a,{onClick:function(){w(0)},children:Object(m.jsx)(O,{})})}),Object(m.jsxs)(\"h3\",{className:t.h3,children:[\"(\",S,\")\"]})]}),Object(m.jsx)(v,{config:{size:37,grid:10,padding:2,stones:3,colors:[\"#4baf90\",\"#a664c4\",\"#73b34a\",\"#c95682\",\"#787c37\",\"#6587cd\",\"#ce9b44\",\"#c95b41\"]},points:b,handleChange:M})]})},C=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,217)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),o(t),i(t)}))};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(w,{})}),document.getElementById(\"root\")),C()}},[[175,1,2]]]);","name":"static/js/main.ea1a3d32.chunk.js","map":{"version":3,"sources":["static/js/main.ea1a3d32.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","slicedToArray","Box","Button","Autocomplete","TextField","makeStyles","style","Object","theme","root","flexGrow","height","overflow","header","display","flexDirection","justifyContent","alignItems","textAlign","fontFamily","color","padding","backgroundColor","points","h2","margin","fontSize","board","width","refresh","cursor","d3_src","Stones","stone","weight","type","weightedSample","arr","wgh","w","reduce","a","e","Math","random","find","i","Stones_generateStones","N","arguments","length","undefined","stn","map","s","jsx_runtime","Board_draw","div","config","handleGameChange","size","p","grid","col","range","colors","c","x","y","free","stones","drawnStones","stoneCodes","currentStoneNrs","currentStoneStartpost","stonesLayed","movingStone","removeCell","cell","transition","duration","attr","remove","snapToGrid","pos","max","floor","min","checkPositionFree","codes","flag","forEach","t","moveStone","drawnPiecePos","drawStonePieces","index","pieces","stoneWidth","stoneHeight","stonePosY","stonePosX","gPieces","svg","append","piece","call","drag","drawStone","I","shift","on","event","offset","node","getBoundingClientRect","indexOf","stnCode","check","m","val","setPosition","splice","fullRow","fullColumn","_loop","cRow","every","cCol","b","row","checkRowColFull","setTimeout","selectAll","data","enter","d","widgets_Board","_ref","handleChange","classes","widgetRef","key","value","current","className","ref","utils_Refresh","viewBox","children","fill","src_App","_useState","_useState2","user","setUser","_useState3","keys","JSON","parse","localStorage","getItem","_useState4","userOptions","setUserOptions","_useState5","_useState6","setPoints","_useState7","_useState8","maxPoints","setMaxPoints","my1010UserPoints","setItem","stringify","onChange","newValue","inputValue","selectOnFocus","clearOnBlur","handleHomeEndKeys","options","getOptionLabel","option","renderOption","freeSolo","renderInput","params","placeholder","h3","onClick","src_reportWebVitals","onPerfEntry","Function","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"CAACA,KAA2B,qBAAIA,KAA2B,sBAAK,IAAIC,KAAK,CAAC,CAAC,GAAG,CAExE,IACA,SAAUC,EAAQC,EAASC,KAM3B,IACA,SAAUF,EAAQC,EAASC,KAM3B,IACA,SAAUF,EAAQG,EAAqBD,GAE7C,aAEAA,EAAoBE,EAAED,GAGtB,IAAIE,EAAQH,EAAoB,GAC5BI,EAA6BJ,EAAoBK,EAAEF,GAGnDG,EAAYN,EAAoB,IAChCO,EAAiCP,EAAoBK,EAAEC,GAMvDE,GAHMR,EAAoB,KAGVA,EAAoB,KAGpCS,EAAgBT,EAAoB,IAMpCU,GAHMV,EAAoB,KAGpBA,EAAoB,MAG1BW,EAASX,EAAoB,KAG7BY,EAAeZ,EAAoB,KAGnCa,EAAYb,EAAoB,KAGhCc,EAAad,EAAoB,KAIkIe,EADzJC,OAAOF,EAA4B,EAAnCE,EAAsC,SAASC,GAAO,MAAM,CAACC,KAAK,CAACC,SAAS,EAAEC,OAAO,OAAOC,SAAS,UAAUC,OAAO,CAACC,QAAQ,OAAOC,cAAc,MAAMC,eAAe,eAAeC,WAAW,SAASC,UAAU,SAASC,WAAW,UAAUC,MAAM,OAAOC,QAAQ,QAAQC,gBAAgB,WAAWC,OAAO,CAACT,QAAQ,OAAOC,cAAc,MAAMC,eAAe,eAAeC,WAAW,SAASC,UAAU,SAASC,WAAW,UAAUC,MAAM,OAAOE,gBAAgB,IAAIE,GAAG,CAACC,OAAO,QAAQC,SAAS,QAAQN,MAAM,QAAQO,MAAM,CAACb,QAAQ,OAAOc,MAAM,OAAOjB,OAAO,QAAQI,cAAc,SACllBE,WAAW,SAASC,UAAU,SAASG,QAAQ,QAAQC,gBAAgB,WAAWO,QAAQ,CAACR,QAAQ,aAAaS,OAAO,eAEnHC,EAASxC,EAAoB,IAG7ByC,EAAO,CAAC,CAACC,MAAM,CAAC,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IAAIC,OAAO,EAAEC,KAAK,GAAG,CAACF,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE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"},"input":"(this[\"webpackJsonpgame1010\"] = this[\"webpackJsonpgame1010\"] || []).push([[0],{\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 166:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 175:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(11);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(165);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(50);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(166);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Box/Box.js + 14 modules\nvar Box = __webpack_require__(213);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(211);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/lab/esm/Autocomplete/Autocomplete.js + 9 modules\nvar Autocomplete = __webpack_require__(214);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/TextField/TextField.js + 39 modules\nvar TextField = __webpack_require__(212);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(206);\n\n// CONCATENATED MODULE: ./src/style.js\nvar useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{root:{flexGrow:1,height:'100%',overflow:'hidden'},header:{display:'flex',flexDirection:'row',justifyContent:'space-evenly',alignItems:\"center\",textAlign:'center',fontFamily:'fantasy',color:'#444',padding:'0.6em',backgroundColor:'#8dd3c7'},points:{display:'flex',flexDirection:'row',justifyContent:'space-evenly',alignItems:\"center\",textAlign:'center',fontFamily:'fantasy',color:'#444',backgroundColor:''},h2:{margin:'0 1px',fontSize:'1.7em',color:'#444'},board:{display:'flex',width:'100%',height:'100vh',flexDirection:'column',// justifyContent: 'center', \nalignItems:\"center\",textAlign:'center',padding:'0.2em',backgroundColor:'#f2f2f2'},refresh:{padding:'0 0 0 13px',cursor:'pointer'}};});/* harmony default export */ var style = (useStyles);\n// EXTERNAL MODULE: ./node_modules/d3/src/index.js + 139 modules\nvar d3_src = __webpack_require__(13);\n\n// CONCATENATED MODULE: ./src/widgets/Stones.js\nvar Stones=[{stone:[[0,0]],weight:4,type:0},{stone:[[0,0],[0,1]],weight:3,type:1},{stone:[[0,0],[1,0]],weight:3,type:1},{stone:[[0,0],[0,1],[0,2]],weight:2,type:2},{stone:[[0,0],[1,0],[2,0]],weight:2,type:2},{stone:[[0,0],[1,0],[1,1]],weight:2,type:0},{stone:[[0,0],[1,0],[0,1]],weight:2,type:3},{stone:[[0,0],[0,1],[1,1]],weight:2,type:3},{stone:[[1,0],[1,1],[0,1]],weight:2,type:3},{stone:[[0,0],[0,1],[0,2],[0,3]],weight:1,type:4},{stone:[[0,0],[1,0],[2,0],[3,0]],weight:1,type:4},{stone:[[0,0],[0,1],[1,0],[1,1]],weight:1,type:4},{stone:[[0,0],[0,1],[0,2],[1,2]],weight:1,type:5},{stone:[[1,0],[1,1],[1,2],[0,2]],weight:1,type:5},{stone:[[0,0],[1,0],[0,1],[2,0]],weight:1,type:5},{stone:[[0,0],[1,0],[2,0],[2,1]],weight:1,type:5},{stone:[[1,0],[1,1],[1,2],[0,1]],weight:1,type:6},{stone:[[0,0],[0,1],[0,2],[1,1]],weight:1,type:6},{stone:[[1,0],[0,1],[1,1],[2,1]],weight:1,type:6},{stone:[[0,0],[1,0],[2,0],[1,1]],weight:1,type:6},{stone:[[0,1],[1,0],[1,1],[2,0]],weight:1,type:7},{stone:[[0,0],[1,0],[1,1],[2,1]],weight:1,type:7},{stone:[[0,0],[1,0],[2,0],[0,1],[1,1],[2,1],[0,2],[1,2],[2,2]],weight:1,type:0}];var weightedSample=function weightedSample(arr,wgh){var w=wgh.reduce(function(a,e){return a+e;});var r=Math.random()*w;return arr.find(function(e,i){return(r-=wgh[i])<0;});};var Stones_generateStones=function generateStones(){var N=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;var stn=d3_src[\"c\" /* range */](N).map(function(){return weightedSample(d3_src[\"c\" /* range */](Stones.length),Stones.map(function(a){return a.weight;}));});return stn.map(function(s){return Stones[s];});};\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./src/widgets/Board.js\nvar Board_draw=function draw(div,config,handleGameChange){var s=config.size,p=config.padding,width=config.grid*(s+p),height=(config.grid+5)*(s+p),col=d3_src[\"d\" /* scaleOrdinal */]().range(config.colors);var board=d3_src[\"c\" /* range */](config.grid).map(function(r){return d3_src[\"c\" /* range */](config.grid).map(function(c){return{x:c*(s+p),y:r*(s+p),free:true};});});var stones=Stones_generateStones(config.stones),drawnStones=[],stoneCodes={},currentStoneNrs=[],currentStoneStartpost={x:0,y:0},stonesLayed=0,movingStone=0;var removeCell=function removeCell(cell){cell.stone.transition().duration(500).attr(\"x\",s/2).attr(\"y\",s/2).attr(\"height\",0).attr(\"width\",0).remove();cell['stone']=null;cell.free=true;};var checkRowColFull=function checkRowColFull(){var fullRow=[],fullColumn=[];var _loop=function _loop(r){var cRow=board[r].every(function(c){return!c.free;});var cCol=board.map(function(b){return b[r];}).every(function(c){return!c.free;});if(cRow){fullRow.push(r);}if(cCol){fullColumn.push(r);}};for(var r=0;r<config.grid;r++){_loop(r);}fullRow.forEach(function(row){board[row].forEach(function(cell){removeCell(cell);});});fullColumn.forEach(function(col){board.forEach(function(row){var cell=row[col];removeCell(cell);});});return(fullRow.length+fullColumn.length)*config.grid;};var snapToGrid=function snapToGrid(x,y){var pos={c:Math.max(0,Math.floor(x/(s+p))),r:Math.max(0,Math.floor(y/(s+p)))};if(pos.r>=config.grid){pos.y=currentStoneStartpost.y;//height + s * 2\npos.x=currentStoneStartpost.x;//(width - s) / 2\npos.c=pos.r=null;}else{pos.y=Math.min(config.grid-1,pos.r)*(s+p);pos.x=Math.min(config.grid-1,pos.c)*(s+p);}return pos;};var checkPositionFree=function checkPositionFree(pos,codes){var flag=true;codes.forEach(function(t){if(pos.c===null||pos.r===null){flag=false;}else if(t[0]+pos.c>=config.grid||t[0]+pos.c<0||t[1]+pos.r>=config.grid||t[1]+pos.r<0){flag=false;}else if(board[t[1]+pos.r][t[0]+pos.c].free===false){flag=false;}});return flag;};var setPosition=function setPosition(pos,val,codes,stn){codes.forEach(function(t,i){board[t[1]+pos.r][t[0]+pos.c].free=val;board[t[1]+pos.r][t[0]+pos.c].stone=stn[i];});};var moveStone=function moveStone(x,y,stn){stn.forEach(function(t){return t.attr(\"transform\",\"translate(\"+x+\",\"+y+\")\");});};var drawnPiecePos=0;var drawStonePieces=function drawStonePieces(stn,color,index){var pieces=[];var stoneWidth=d3_src[\"b\" /* max */](stn.map(function(s){return s[0];}));var stoneHeight=d3_src[\"b\" /* max */](stn.map(function(s){return s[1];}));var stonePosY=height-4*(s+p);var stonePosX=drawnPiecePos*(s+p);if(stonePosX>width-(stoneWidth+1)*(s+p)){// stonePosY = height - 2 * (s+p)\nstonePosX=width-(stoneWidth+1)*(s+p);}var gPieces=svg.append(\"g\");stn.forEach(function(cell){var piece=gPieces.append(\"rect\").attr(\"class\",\"stn\").attr(\"x\",cell[0]*(s+p)).attr(\"y\",cell[1]*(s+p)).attr(\"width\",s).attr(\"height\",s).attr(\"rx\",1).attr(\"ry\",1).style(\"fill\",col(color)).style(\"fill-opacity\",0.75).style(\"stroke\",\"#000\").style(\"stroke-width\",1).attr(\"pointer-events\",\"none\").attr(\"transform\",\"translate(\"+(stonePosX+2)+\",\"+stonePosY+\")\");// .call(drag);\npieces.push(piece);});gPieces.append('rect').attr(\"class\",\"draghandler\").attr(\"stn\",index).attr(\"x\",stonePosX).attr(\"y\",stonePosY).attr(\"width\",(stoneWidth+1)*(s+p)).attr(\"height\",(stoneHeight+1)*(s+p)).attr(\"fill-opacity\",0).attr(\"stroke\",\"none\").call(drag);drawnPiecePos+=stoneWidth+2;return pieces;};var drawStone=function drawStone(){if(currentStoneNrs.length>0){return;}stones=Stones_generateStones(config.stones);drawnPiecePos=0;for(var i=0,I=stones.length;i<I;i++){var stn=stones.shift();stoneCodes[stonesLayed]=stn.stone;var pieces=drawStonePieces(stn.stone,stn.type,stonesLayed);drawnStones.push(pieces);currentStoneNrs.push(stonesLayed);stonesLayed++;}};function dragstarted(event,i,n){movingStone=+d3_src[\"e\" /* select */](this).attr(\"stn\");var pos={x:event.x,y:event.y};var stn=drawnStones[movingStone];var offset={x:svg.node().getBoundingClientRect().x,y:svg.node().getBoundingClientRect().y};stn.forEach(function(s){pos.x=Math.min(pos.x,s.node().getBoundingClientRect().x-offset.x);pos.y=Math.min(pos.y,s.node().getBoundingClientRect().y-offset.y);});currentStoneStartpost=pos;if(currentStoneNrs.indexOf(movingStone)<0){movingStone=null;}}function dragged(event){if(movingStone===null){return;}var stn=drawnStones[movingStone];var stnCode=stoneCodes[movingStone];var pos=snapToGrid(event.x,event.y-s*2);moveStone(pos.x,pos.y,stn);var check=checkPositionFree(pos,stnCode);stn.forEach(function(m){m.style(\"fill-opacity\",check===false?0.25:0.75);});}function dragended(event){if(movingStone===null){return;}var stn=drawnStones[movingStone];var stnCode=stoneCodes[movingStone];var pos=snapToGrid(event.x,event.y-s*2);var check=checkPositionFree(pos,stnCode);if(check===true){setPosition(pos,false,stnCode,stn);d3_src[\"e\" /* select */](this).remove();stn.forEach(function(s){return s.style(\"stroke-width\",0);});handleGameChange('points',stnCode.length);currentStoneNrs.splice(currentStoneNrs.indexOf(movingStone),1);var points=checkRowColFull();setTimeout(function(){handleGameChange('fullrow',points);},500);drawStone();}else{pos=snapToGrid(width,height);moveStone(pos.x,pos.y,stn);stn.forEach(function(m){m.style(\"fill-opacity\",0.75);});}}var drag=d3_src[\"a\" /* drag */]().on(\"start\",dragstarted).on(\"drag\",dragged).on(\"end\",dragended);d3_src[\"e\" /* select */](div).selectAll('*').remove();var svg=d3_src[\"e\" /* select */](div).append(\"svg\").attr(\"width\",width).attr(\"height\",height).append(\"g\").attr(\"transform\",\"translate(\"+p+\",\"+p+\")\");var row=svg.selectAll(\".row\").data(board).enter().append(\"g\").attr(\"class\",\"row\");row.selectAll(\".square\").data(function(d){return d;}).enter().append(\"rect\").attr(\"class\",\"board\").attr(\"x\",function(d){return d.x;}).attr(\"y\",function(d){return d.y;}).attr(\"width\",s).attr(\"height\",s).attr(\"rx\",s/config.size).attr(\"ry\",s/config.size).style(\"fill\",\"#fff\").style(\"stroke\",\"#a2a2a2\");drawStone();};var Board_Board=function Board(_ref){var config=_ref.config,points=_ref.points,handleChange=_ref.handleChange;var classes=style();var widgetRef=Object(react[\"useRef\"])(null);var handleGameChange=function handleGameChange(key,value){handleChange(key,value);};Object(react[\"useLayoutEffect\"])(function(){if(points>0){return;}Board_draw(widgetRef.current,config,handleGameChange);});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{className:classes.board,ref:widgetRef});};/* harmony default export */ var widgets_Board = (Board_Board);\n// CONCATENATED MODULE: ./src/widgets/utils.js\nvar utils_Refresh=function Refresh(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"svg\",{height:\"24\",viewBox:\"0 0 24 24\",width:\"24\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M0 0h24v24H0z\",fill:\"none\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z\"})]});};\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var classes=style();var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=Object(react[\"useState\"])(Object.keys(JSON.parse(localStorage.getItem(\"my1010\")||\"{}\"))),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userOptions=_useState4[0],setUserOptions=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),points=_useState6[0],setPoints=_useState6[1];var _useState7=Object(react[\"useState\"])(0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),maxPoints=_useState8[0],setMaxPoints=_useState8[1];Object(react[\"useEffect\"])(function(){if(!user){return;}var my1010UserPoints=JSON.parse(localStorage.getItem(\"my1010\")||\"{}\");if(my1010UserPoints[user]===undefined){my1010UserPoints[user]=0;}my1010UserPoints[user]=Math.max(maxPoints,points);setMaxPoints(my1010UserPoints[user]);localStorage.setItem(\"my1010\",JSON.stringify(my1010UserPoints));},[points]);Object(react[\"useEffect\"])(function(){if(!user){return;}var my1010UserPoints=JSON.parse(localStorage.getItem(\"my1010\")||\"{}\");if(my1010UserPoints[user]===undefined){my1010UserPoints[user]=0;}setPoints(0);setMaxPoints(my1010UserPoints[user]);setUserOptions(Object.keys(my1010UserPoints));},[user]);var handleChange=Object(react[\"useCallback\"])(function(key,value){if(key==='points'||key===\"fullrow\"){setPoints(function(p){return+p+value;});}},[]);var onHandleRefresh=function onHandleRefresh(){setPoints(0);};var config={size:37,grid:10,padding:2,stones:3,colors:[\"#4baf90\",\"#a664c4\",\"#73b34a\",\"#c95682\",\"#787c37\",\"#6587cd\",\"#ce9b44\",\"#c95b41\"]};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{className:classes.root,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:classes.header,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:classes.h2,children:\"My 1010\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Autocomplete[\"a\" /* default */],{value:user,onChange:function onChange(event,newValue){if(newValue&&newValue.inputValue){// Create a new value from the user input\nsetUser(newValue.inputValue);}else{setUser(newValue);}},selectOnFocus:true,clearOnBlur:true,handleHomeEndKeys:true,options:userOptions,getOptionLabel:function getOptionLabel(option){if(option.inputValue){return option.inputValue;}return option;},renderOption:function renderOption(option){return option;},style:{width:120},freeSolo:true,renderInput:function renderInput(params){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},params),{},{placeholder:\"user\"}));}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{className:classes.points,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:classes.h3,children:points}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{className:classes.refresh,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:onHandleRefresh,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(utils_Refresh,{})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{className:classes.h3,children:[\"(\",maxPoints,\")\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(widgets_Board,{config:config,points:points,handleChange:handleChange})]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 217)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[175,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/peterbak/Documents/game1010/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/peterbak/Documents/game1010/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/peterbak/Documents/game1010/node_modules/postcss-loader/src/index.js??postcss!/Users/peterbak/Documents/game1010/src/index.css","/Users/peterbak/Documents/game1010/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/peterbak/Documents/game1010/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/peterbak/Documents/game1010/node_modules/postcss-loader/src/index.js??postcss!/Users/peterbak/Documents/game1010/src/App.css","/Users/peterbak/Documents/game1010/src/style.js","/Users/peterbak/Documents/game1010/src/widgets/Stones.js","/Users/peterbak/Documents/game1010/src/widgets/Board.js","/Users/peterbak/Documents/game1010/src/widgets/utils.js","/Users/peterbak/Documents/game1010/src/App.js","/Users/peterbak/Documents/game1010/src/reportWebVitals.js","/Users/peterbak/Documents/game1010/src/index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","height","overflow","header","display","flexDirection","justifyContent","alignItems","textAlign","fontFamily","color","padding","backgroundColor","points","h2","margin","fontSize","board","width","refresh","cursor","Stones","stone","weight","type","weightedSample","arr","wgh","w","reduce","a","e","r","Math","random","find","i","generateStones","N","stn","d3","map","length","s","draw","div","config","handleGameChange","size","p","grid","col","range","colors","c","x","y","free","stones","drawnStones","stoneCodes","currentStoneNrs","currentStoneStartpost","stonesLayed","movingStone","removeCell","cell","transition","duration","attr","remove","checkRowColFull","fullRow","fullColumn","cRow","every","cCol","b","push","forEach","row","snapToGrid","pos","max","floor","min","checkPositionFree","codes","flag","t","setPosition","val","moveStone","drawnPiecePos","drawStonePieces","index","pieces","stoneWidth","stoneHeight","stonePosY","stonePosX","gPieces","svg","append","piece","style","call","drag","drawStone","I","shift","dragstarted","event","n","offset","node","getBoundingClientRect","indexOf","dragged","stnCode","check","m","dragended","splice","setTimeout","on","selectAll","data","enter","d","Board","handleChange","classes","widgetRef","useRef","key","value","useLayoutEffect","current","Refresh","App","useState","user","setUser","Object","keys","JSON","parse","localStorage","getItem","userOptions","setUserOptions","setPoints","maxPoints","setMaxPoints","useEffect","my1010UserPoints","undefined","setItem","stringify","useCallback","onHandleRefresh","newValue","inputValue","option","params","h3","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    height: '100%',\n    overflow: 'hidden'\n  },\n  header: {\n    display:'flex',\n    flexDirection: 'row', \n    justifyContent: 'space-evenly',\n    alignItems: \"center\",\n    textAlign:'center',\n    fontFamily: 'fantasy',\n    color: '#444',\n    padding: '0.6em',\n    backgroundColor: '#8dd3c7'\n  },\n  points: {\n    display:'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-evenly',\n    alignItems: \"center\",\n    textAlign:'center',\n    fontFamily: 'fantasy',\n    color: '#444',\n    backgroundColor: ''\n  },\n  h2:{\n    margin:'0 1px',\n    fontSize:'1.7em',\n    color:'#444'\n  },\n  board:{\n    display:'flex',\n    width:'100%',\n    height: '100vh',\n    flexDirection: 'column',\n    // justifyContent: 'center', \n    alignItems: \"center\",\n    textAlign:'center',\n    padding: '0.2em',\n    backgroundColor: '#f2f2f2'\n  },\n  refresh: {\n    padding: '0 0 0 13px',\n    cursor: 'pointer'\n  }\n}));\n\nexport default useStyles;","import * as d3 from 'd3';\n\nexport const Stones = [\n    {stone:[[0,0]], weight: 4, type:0},\n\n    {stone:[[0,0],[0,1]], weight: 3, type:1}, \n    {stone:[[0,0],[1,0]], weight: 3, type:1},\n\n    {stone:[[0,0],[0,1],[0,2]], weight: 2, type:2},\n    {stone:[[0,0],[1,0],[2,0]], weight: 2, type:2},\n    {stone:[[0,0],[1,0],[1,1]], weight: 2, type:0},\n    {stone:[[0,0],[1,0],[0,1]], weight: 2, type:3},\n    {stone:[[0,0],[0,1],[1,1]], weight: 2, type:3},\n    {stone:[[1,0],[1,1],[0,1]], weight: 2, type:3},\n\n    {stone:[[0,0],[0,1],[0,2],[0,3]], weight: 1, type:4},\n    {stone:[[0,0],[1,0],[2,0],[3,0]], weight: 1, type:4},\n    {stone:[[0,0],[0,1],[1,0],[1,1]], weight: 1, type:4},\n    {stone:[[0,0],[0,1],[0,2],[1,2]], weight: 1, type:5},\n    {stone:[[1,0],[1,1],[1,2],[0,2]], weight: 1, type:5},\n    {stone:[[0,0],[1,0],[0,1],[2,0]], weight: 1, type:5},\n    {stone:[[0,0],[1,0],[2,0],[2,1]], weight: 1, type:5},\n    \n    {stone:[[1,0],[1,1],[1,2],[0,1]], weight: 1, type:6},\n    {stone:[[0,0],[0,1],[0,2],[1,1]], weight: 1, type:6},\n    {stone:[[1,0],[0,1],[1,1],[2,1]], weight: 1, type:6},\n    {stone:[[0,0],[1,0],[2,0],[1,1]], weight: 1, type:6},\n\n    {stone:[[0,1],[1,0],[1,1],[2,0]], weight: 1, type:7},\n    {stone:[[0,0],[1,0],[1,1],[2,1]], weight: 1, type:7},\n\n    {stone:[[0,0],[1,0],[2,0],[0,1],[1,1],[2,1],[0,2],[1,2],[2,2]], weight: 1, type:0}\n]\n\nconst weightedSample = (arr, wgh) => {\n    let w = wgh.reduce((a, e) => a + e);\n    let r = Math.random() * w;\n    return arr.find((e, i) => (r -= wgh[i]) < 0);\n}\n\nexport const generateStones = (N = 3) => {\n    let stn = d3.range(N).map(() => {\n        return weightedSample(d3.range(Stones.length), Stones.map(a=>a.weight))\n    })\n    return stn.map(s => Stones[s])\n}","import { Box } from '@material-ui/core'\nimport React, {useRef, useLayoutEffect} from 'react'\n\nimport useStyles from '../style';\nimport * as d3 from 'd3';\nimport { generateStones } from './Stones'\n\nconst draw = (div, config, handleGameChange) => {\n    \n    let s = config.size,\n        p=config.padding,\n        width = config.grid * (s + p),\n        height = (config.grid + 5) * (s + p),\n        col = d3.scaleOrdinal().range(config.colors);\n\n    const board = d3.range(config.grid).map((r) => \n        d3.range(config.grid).map((c) => \n            ({\n                x: c * (s + p), \n                y: r * (s + p), \n                free: true \n            })));\n\n    let stones = generateStones(config.stones), \n        drawnStones = [], \n        stoneCodes = {},\n        currentStoneNrs = [],\n        currentStoneStartpost = {x:0, y:0},\n        stonesLayed = 0, \n        movingStone = 0;\n\n    const removeCell = (cell) => {\n        cell.stone.transition().duration(500)\n            .attr(\"x\",s / 2).attr(\"y\", s / 2)\n            .attr(\"height\", 0).attr(\"width\",0).remove();\n        cell['stone'] = null;\n        cell.free = true;\n    }\n\n    const checkRowColFull = () => {\n        let fullRow = [], fullColumn = [];\n        for (let r = 0; r < config.grid; r++){\n            let cRow = board[r].every(c=>!c.free);\n            let cCol = board.map(b => b[r]).every(c=>!c.free);\n            if (cRow) {\n                fullRow.push(r);\n            }\n            if (cCol) {\n                fullColumn.push(r);\n            }\n        }\n        fullRow.forEach(row => {\n            board[row].forEach(cell => {\n                removeCell(cell)\n            })\n        })\n        fullColumn.forEach(col => {\n            board.forEach(row => {\n                let cell = row[col]\n                removeCell(cell);\n            })\n        })\n        return (fullRow.length + fullColumn.length) * config.grid;\n    }\n        \n    const snapToGrid = (x, y) => {\n        let pos = {\n            c: Math.max(0, Math.floor(x / (s + p))),\n            r: Math.max(0, Math.floor(y / (s + p)))\n        }\n        if (pos.r >= config.grid) {\n            pos.y = currentStoneStartpost.y; //height + s * 2\n            pos.x = currentStoneStartpost.x; //(width - s) / 2\n            pos.c = pos.r = null;\n        } else {\n            pos.y = Math.min(config.grid-1, pos.r) * (s + p)\n            pos.x = Math.min(config.grid-1, pos.c) * (s + p)\n        }\n        return pos\n    }\n\n    const checkPositionFree = (pos, codes) => {\n        let flag = true;\n        codes.forEach(t => {\n            if (pos.c===null || pos.r===null){\n                flag = false\n            } else if (t[0]+pos.c >= config.grid || t[0]+pos.c < 0 || t[1]+pos.r >= config.grid || t[1]+pos.r < 0){\n                flag = false\n            } else if (board[t[1]+pos.r][t[0]+pos.c].free===false){\n                flag = false;\n            }\n        })\n        return flag;\n    }\n\n    const setPosition = (pos, val, codes, stn) => {\n        codes.forEach((t,i) => {\n            board[t[1]+pos.r][t[0]+pos.c].free = val;\n            board[t[1]+pos.r][t[0]+pos.c].stone = stn[i];\n        });\n    }\n\n    const moveStone = (x, y, stn) => {\n        stn.forEach(t => t.attr(\"transform\",\"translate(\"+(x)+\",\"+(y)+\")\"));\n    }\n\n    let drawnPiecePos = 0;\n    const drawStonePieces  = (stn, color, index) => {\n        let pieces = []\n        let stoneWidth = d3.max(stn.map(s => s[0]));\n        let stoneHeight = d3.max(stn.map(s => s[1]));\n        let stonePosY = height - 4 * (s+p)\n        let stonePosX = drawnPiecePos * (s + p);\n        if (stonePosX > width - (stoneWidth+1) * (s + p)){\n            // stonePosY = height - 2 * (s+p)\n            stonePosX = width - (stoneWidth+1) * (s + p)\n        }\n        let gPieces = svg.append(\"g\")\n        stn.forEach((cell) => {\n            let piece = gPieces.append(\"rect\")\n                .attr(\"class\",\"stn\")\n                .attr(\"x\", cell[0] * (s + p) )\n                .attr(\"y\", cell[1] * (s + p))\n                .attr(\"width\", s )\n                .attr(\"height\", s )\n                .attr(\"rx\", 1)\n                .attr(\"ry\", 1)\n                .style(\"fill\", col(color))\n                .style(\"fill-opacity\", 0.75)\n                .style(\"stroke\", \"#000\")\n                .style(\"stroke-width\", 1)\n                .attr(\"pointer-events\", \"none\")\n                .attr(\"transform\",\"translate(\"+(stonePosX + 2)+\",\"+(stonePosY)+\")\")\n                // .call(drag);\n            pieces.push(piece)\n        })\n        gPieces.append('rect')\n            .attr(\"class\", \"draghandler\")\n            .attr(\"stn\", index)\n            .attr(\"x\", stonePosX)\n            .attr(\"y\", stonePosY)\n            .attr(\"width\", (stoneWidth + 1)  * (s + p))\n            .attr(\"height\", (stoneHeight + 1) * (s + p))\n            .attr(\"fill-opacity\", 0)\n            .attr(\"stroke\", \"none\")\n            .call(drag);\n        drawnPiecePos += stoneWidth + 2;\n        return pieces;\n    }\n \n    const drawStone = () => {\n        if (currentStoneNrs.length>0){ return }\n\n        stones = generateStones(config.stones);\n        drawnPiecePos = 0;\n        for (let i = 0, I = stones.length; i < I; i++){\n            const stn = stones.shift();\n            stoneCodes[stonesLayed] = stn.stone;\n            let pieces = drawStonePieces(stn.stone, stn.type, stonesLayed);\n            drawnStones.push(pieces);\n            currentStoneNrs.push(stonesLayed);\n            stonesLayed++;\n        }\n    }\n\n    function dragstarted(event, i , n) {\n        movingStone = +d3.select(this).attr(\"stn\");\n        let pos = {x: event.x, y: event.y}\n        let stn = drawnStones[movingStone];\n        let offset = {x: svg.node().getBoundingClientRect().x, \n            y: svg.node().getBoundingClientRect().y};\n        stn.forEach(s => {\n            pos.x = Math.min(pos.x, s.node().getBoundingClientRect().x - offset.x)\n            pos.y = Math.min(pos.y, s.node().getBoundingClientRect().y - offset.y) \n        });\n        currentStoneStartpost = pos;\n        if (currentStoneNrs.indexOf(movingStone) < 0){\n            movingStone = null;\n        }\n    }\n    \n    function dragged(event) {\n        if (movingStone===null){return;}\n        let stn = drawnStones[movingStone]\n        let stnCode = stoneCodes[movingStone]\n        let pos = snapToGrid(event.x, event.y - (s * 2));\n        moveStone(pos.x, pos.y, stn)\n        let check  = checkPositionFree(pos, stnCode);\n        stn.forEach(m => {\n            m.style(\"fill-opacity\", check===false ? 0.25 : 0.75)\n        });\n    }\n    \n    function dragended(event) {\n        if (movingStone===null){return;}\n        let stn = drawnStones[movingStone]\n        let stnCode = stoneCodes[movingStone]\n        let pos = snapToGrid(event.x, event.y - (s * 2));\n        let check  = checkPositionFree(pos, stnCode);\n\n        if (check===true){\n            setPosition(pos, false, stnCode, stn)\n            d3.select(this).remove();\n            stn.forEach(s => s.style(\"stroke-width\", 0))\n            handleGameChange('points', stnCode.length);\n            currentStoneNrs.splice(currentStoneNrs.indexOf(movingStone), 1);\n            let points = checkRowColFull();\n            setTimeout(()=>{handleGameChange('fullrow', points)}, 500);\n            drawStone();\n        } else {\n            pos = snapToGrid(width, height);\n            moveStone(pos.x, pos.y, stn);\n            stn.forEach(m => {\n                m.style(\"fill-opacity\", 0.75)\n            });\n        }\n    }\n    \n    const drag = d3.drag()\n          .on(\"start\", dragstarted)\n          .on(\"drag\", dragged)\n          .on(\"end\", dragended);\n\n    d3.select(div).selectAll('*').remove();\n\n    const svg = d3.select(div).append(\"svg\")\n        .attr(\"width\", width)\n        .attr(\"height\", height)\n        .append(\"g\")\n        .attr(\"transform\",\"translate(\"+p+\",\"+p+\")\");\n\n    let row = svg.selectAll(\".row\")\n        .data(board)\n        .enter().append(\"g\")\n        .attr(\"class\", \"row\");\n\n    row.selectAll(\".square\")\n        .data((d) => d)\n        .enter().append(\"rect\")\n        .attr(\"class\",\"board\")\n        .attr(\"x\", (d) => d.x )\n        .attr(\"y\", (d) => d.y )\n        .attr(\"width\", s )\n        .attr(\"height\", s )\n        .attr(\"rx\", s/config.size)\n        .attr(\"ry\", s/config.size)\n        .style(\"fill\", \"#fff\")\n        .style(\"stroke\", \"#a2a2a2\");\n\n    drawStone();\n    \n}\n\nconst Board = ({config, points, handleChange}) => {\n    const classes = useStyles();\n    const widgetRef = useRef(null);\n\n    const handleGameChange = (key, value) => {\n        handleChange(key, value);\n    }\n\n    useLayoutEffect(() => {\n        if (points > 0){ return; }\n        draw(widgetRef.current, config, handleGameChange);\n    });\n\n    return <Box className={classes.board} ref={widgetRef}></Box>\n\n}\n\nexport default Board;","\nexport const Refresh = () => { \n    return <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z\"/></svg>\n}","import './App.css';\nimport {Box, Button} from '@material-ui/core'\nimport React, { useEffect } from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { TextField } from '@material-ui/core';\n\nimport useStyles from './style';\nimport Board from './widgets/Board'\nimport { useState , useCallback} from 'react';\nimport {Refresh} from './widgets/utils';\n\nfunction App() {\n  const classes = useStyles();\n  const [user, setUser] = useState('')\n  const [userOptions, setUserOptions]  = useState(Object.keys(JSON.parse(localStorage.getItem(\"my1010\") || \"{}\")))\n  const [points, setPoints] = useState(0);\n  const [maxPoints, setMaxPoints] = useState(0)\n  \n  useEffect(()=>{\n    if (!user){ return; }\n    let my1010UserPoints = JSON.parse(localStorage.getItem(\"my1010\") || \"{}\"); \n    if (my1010UserPoints[user]===undefined){\n      my1010UserPoints[user] = 0\n    }\n    my1010UserPoints[user] = Math.max(maxPoints, points);\n    setMaxPoints(my1010UserPoints[user]);\n    localStorage.setItem(\"my1010\",JSON.stringify(my1010UserPoints));\n  }, [points]);\n\n  useEffect(()=>{\n    if (!user){ return; }\n    let my1010UserPoints = JSON.parse(localStorage.getItem(\"my1010\") || \"{}\"); \n    if (my1010UserPoints[user]===undefined){\n      my1010UserPoints[user] = 0\n    }\n    setPoints(0)\n    setMaxPoints(my1010UserPoints[user])\n    setUserOptions(Object.keys(my1010UserPoints))\n  }, [user]);\n\n  const handleChange = useCallback((key, value) => {\n    if (key==='points' || key===\"fullrow\"){\n      setPoints(p => +p+value);\n    }\n  },[]);\n\n  const onHandleRefresh = () => {\n    setPoints(0)\n  }\n\n  const config = {\n    size: 37,\n    grid: 10,\n    padding: 2,\n    stones: 3,\n    colors: [\"#4baf90\",\n      \"#a664c4\",\n      \"#73b34a\",\n      \"#c95682\",\n      \"#787c37\",\n      \"#6587cd\",\n      \"#ce9b44\",\n      \"#c95b41\"]\n  }\n\n  return (\n    <Box className={classes.root}>\n      <header className={classes.header}>\n        <h2 className={classes.h2}>\n          My 1010\n        </h2>\n        <Autocomplete\n          value={user}\n          onChange={(event, newValue) => {\n            if (newValue && newValue.inputValue) {\n              // Create a new value from the user input\n              setUser(newValue.inputValue);\n            } else {\n              setUser(newValue);\n            }\n          }}\n          selectOnFocus\n          clearOnBlur\n          handleHomeEndKeys\n          options={userOptions}\n          getOptionLabel={(option) => {\n            if (option.inputValue) {\n              return option.inputValue;\n            }\n            return option;\n          }}\n          renderOption={(option) => option}\n          style={{ width: 120 }}\n          freeSolo\n          renderInput={(params) => (\n            <TextField {...params} placeholder='user'/>\n          )}\n        />\n      </header>\n      <Box className={classes.points}>\n        <h3 className={classes.h3}>{points}</h3>\n        <Box className={classes.refresh}>\n          <Button onClick={onHandleRefresh}><Refresh/></Button>\n        </Box>\n        <h3 className={classes.h3}>({maxPoints})</h3>\n      </Box>\n      <Board config={config} points={points} handleChange={handleChange}/>\n    </Box>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}